<!-- Search Widget -->
<div class="search-widget widget-item">
  <h3 class="widget-title">Search</h3>
  <form action="/search" method="get">
    <input type="text" name="q" placeholder="Search...">
    <button type="submit" title="Search"><i class="bi bi-search"></i></button>
  </form>
</div>

<!-- Recent Posts Widget -->
<div class="recent-posts-widget widget-item">
  <h3 class="widget-title">Recent Posts</h3>
  {% assign recent_posts = site.posts | slice: 0, 5 %}
  {% for post in recent_posts %}
  <div class="post-item d-flex align-items-start">
    {% if post.image %}
    <img src="{{ post.image }}" alt="{{ post.title }}" class="flex-shrink-0 me-3" style="width: 64px; height: 64px; object-fit: cover;">
    {% endif %}
    <div>
      <h4 class="mb-1"><a href="{{ post.url }}">{{ post.title }}</a></h4>
      <time datetime="{{ post.date | date_to_xmlschema }}">{{ post.date | date: "%b %-d, %Y" }}</time>
    </div>
  </div>
  {% endfor %}
</div>

<!-- Categories Widget -->
<div class="categories-widget widget-item">
  <h3 class="widget-title">Categories</h3>
  <ul class="mt-3">
    {% assign categories = site.categories %}
    {% for category in categories %}
    <li>
      <a href="/categories/{{ category[0] | slugify }}/">{{ category[0] }} <span>({{ category[1].size }})</span></a>
    </li>
    {% endfor %}
  </ul>
</div>

<!-- Tags Widget -->
<div class="tags-widget widget-item">
  <h3 class="widget-title">Tags</h3>
  <ul class="list-inline">
    {% assign tags = site.tags %}
    {% for tag in tags %}
    <li class="list-inline-item">
      <a href="/tags/{{ tag[0] | slugify }}/">{{ tag[0] }}</a>
    </li>
    {% endfor %}
  </ul>
</div>
